(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{"4ba4":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[t.clarifications.length>0?a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"q-mt-md text-h6 text-black"},[t._v(" 通告 ")]),t._l(t.clarifications,(function(i,s){return a("q-card",{key:s,staticClass:"q-mt-lg q-pa-md",attrs:{flat:"",bordered:""}},[a("div",{staticClass:"row"},[a("span",{staticClass:"text-h6 text-red col-6"},[t._v(t._s(i.head))]),a("span",{staticClass:"text-orange"},[t._v(" "+t._s(i.created_at)+" ")])]),a("div",{staticClass:"q-pl-md"},[a("div",{staticClass:"q-mt-md text-black",staticStyle:{"font-size":"18px"},domProps:{innerHTML:t._s(i.content_html)}})])])}))],2):a("div",{staticClass:"q-ma-md q-mt-md text-h6 text-black"},[t._v("\n     暂无公告\n  ")]),a("div",{staticClass:"q-ma-md"},[a("q-separator",{staticClass:"q-mt-md"}),a("div",{staticClass:"row q-mt-md"},[t._m(0),a("Input",{staticStyle:{width:"300px"},model:{value:t.clarify.head,callback:function(i){t.$set(t.clarify,"head",i)},expression:"clarify.head"}})],1),a("div",{staticClass:"row q-mt-md"},[t._m(1),a("mavon-editor",{ref:"clarify",staticStyle:{width:"1500px"},model:{value:t.clarify.content,callback:function(i){t.$set(t.clarify,"content",i)},expression:"clarify.content"}})],1),a("Button",{staticClass:"q-mt-md",attrs:{type:"primary"},on:{click:t.addClarification}},[t._v(" 添加通告 ")])],1)])},e=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticStyle:{width:"100px"}},[a("div",{staticClass:"text-red",staticStyle:{"font-size":"18px"}},[t._v("标题")])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticStyle:{width:"100px"}},[a("div",{staticClass:"text-red",staticStyle:{"font-size":"18px"}},[t._v("内容")])])}],c={name:"clarifications",data:function(){return{contest_id:0,clarify:{head:"",created_at:"",content:"",content_html:""},clarifications:[]}},methods:{addClarification:function(){var t=this;if(this.clarify.head=this.clarify.head.trim(),""!=this.clarify.head){this.clarify.created_at=(new Date).Format("yyyy-MM-dd HH:mm:ss"),this.clarify.content_html=this.$refs.clarify.d_render;var i=new FormData;i.set("id",this.contest_id),i.set("clarification",JSON.stringify(this.clarify)),this.$req.post("updateClarification",i).then((function(i){void 0==i.errno&&(t.$notify("success","发布成功"),t.clarifications.unshift(JSON.parse(JSON.stringify(t.clarify))),t.clarify.head=t.clarify.content="")}))}else this.$notify("error","标题不能为空")},updateClarifications:function(){}},mounted:function(){var t=this;void 0==this.$route.params.id?this.$router.push({name:"contestManage"}):(this.contest_id=this.$route.params.id,this.$req.get("getClarification",{id:this.contest_id}).then((function(i){if(void 0==i.errno){t.clarifications=i.data;for(var a=0;a<t.clarifications.length;a++)t.clarifications[a]=JSON.parse(t.clarifications[a])}})))}},n=c,r=a("2877"),l=a("f09f"),o=a("eb85"),d=a("eebe"),f=a.n(d),h=Object(r["a"])(n,s,e,!1,null,"8abc9570",null);i["default"]=h.exports;f()(h,"components",{QCard:l["a"],QSeparator:o["a"]})}}]);