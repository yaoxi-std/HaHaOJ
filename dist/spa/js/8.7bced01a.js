(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{4635:function(t,e,n){"use strict";var a=n("a877"),s=n.n(a);s.a},"5f43":function(t,e,n){"use strict";var a=n("f963"),s=n.n(a);s.a},a877:function(t,e,n){},bd41:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center q-pa-lg"},[n("div",{staticStyle:{width:"1600px"}},[n("br"),n("Row",[n("span",{staticStyle:{"font-size":"20px",color:"black"}},[t._v(" ID "),n("Input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Search By ID"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1),n("span",{staticStyle:{"margin-left":"30px","font-size":"20px",color:"black"}},[t._v("\n              Contest Name\n              "),n("Input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Search By Contest Name"},model:{value:t.contestName,callback:function(e){t.contestName=e},expression:"contestName"}})],1),n("span",{staticStyle:{"margin-left":"30px","font-size":"20px",color:"black"}},[t._v("\n              Status\n              "),n("Select",{staticStyle:{width:"200px","margin-left":"2px"},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.statusList,(function(e){return n("Option",{key:e.value,class:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),n("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.search}},[t._v(" 查找 ")])],1),n("br"),n("Row",[n("Page",{staticStyle:{float:"left"},attrs:{total:t.total,"page-size":t.pageSize,"show-total":"","show-elevator":""},on:{"on-change":t.changePage}}),(256&t.$store.state.user.privilege)>0?n("Button",{staticStyle:{float:"right"},attrs:{type:"info"},on:{click:function(e){return t.$router.push({name:"newContest"})}}},[t._v(" 创建比赛 ")]):t._e(),n("div",{staticStyle:{clear:"both"}})],1),n("br"),n("div",{staticClass:"contesttable"},[n("Table",{attrs:{border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"status",fn:function(e){var a=e.row;return[n("span",{class:a.status},[t._v(" "+t._s(a.status)+" ")])]}},{key:"length",fn:function(e){var a=e.row;return[n("span",[t._v(" "+t._s(a.length.toFixed(2))+" ")])]}},{key:"action",fn:function(e){var a=e.index,s=e.row;return[(512&t.$store.state.user.privilege)>0?n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"contestInfo",params:{id:s.id}})}}},[t._v(" 修改 ")]):t._e(),(1024&t.$store.state.user.privilege)>0?n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error"},on:{click:function(e){return t.deleteContest(a,s)}}},[t._v(" 删除 ")]):t._e(),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info"},on:{click:function(e){return t.$router.push({name:"ranklist",params:{id:s.id,format:s.format}})}}},[t._v(" 比赛榜单 ")]),(8&t.$store.state.user.privilege)>2048?n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:function(e){return t.$router.push({name:"csubmissions",params:{id:s.id}})}}},[t._v("提交记录")]):t._e(),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:function(e){return t.$router.push({name:"cproblems",params:{id:s.id}})}}},[t._v(" 比赛题目 ")]),n("Button",{staticStyle:{"margin-left":"10px","background-color":"orange",color:"white"},on:{click:function(e){return t.$router.push({name:"clarifications",params:{id:s.id}})}}},[t._v(" 通告 ")])]}}])})],1)],1)])},s=[],i={data:function(){return{columns:[{title:"ID",key:"id",width:60,align:"center"},{title:"Contest Name",key:"title",align:"center"},{title:"Type",key:"type",width:100,align:"center"},{title:"Format",key:"format",width:100,align:"center"},{title:"Status",slot:"status",align:"center",width:100},{title:"Length(Hours)",slot:"length",align:"center",width:130},{title:"Begin Time",key:"begin",align:"center",width:200},{title:"Action",slot:"action",align:"center",width:500}],data:[],total:0,pageSize:20,id:"",contestName:"",statusList:[{value:"All",label:"All"},{value:"Pending",label:"Pending"},{value:"Running",label:"Running"},{value:"Ended",label:"Ended"}],select:"All"}},methods:{getRules:function(){var t={};return this.id=this.id.trim(),this.contestName=this.contestName.trim(),this.id&&(t.id=this.id),this.contestName&&(t.title=this.contestName),"All"!=this.select&&(t.status=this.select),t},search:function(){this.searchContests(1,this.pageSize,this.getRules())},changePage:function(t){var e=(t-1)*this.pageSize+1,n=t*this.pageSize;this.searchContests(e,n,this.getRules())},create:function(){this.$router.push({name:"contestInfo"})},deleteContest:function(t,e){var n=this;this.$q.dialog({dark:!0,title:"确认框",message:"你确定要删除该场比赛吗",cancel:!0,persistent:!0}).onOk((function(){n.$req.get("deleteContest",{id:e.id}).then((function(e){e&&(n.data.splice(t,1),n.$notify("success","删除成功"))}))}))},searchContests:function(t,e,n){var a=this,s=new FormData;s.set("l",t),s.set("r",e),s.set("rules",JSON.stringify(n)),this.$req.post("searchContests",s).then((function(t){void 0==t.errno&&(a.total=t.total,a.data=t.data)}))}},mounted:function(){this.searchContests(1,this.pageSize,{})}},r=i,l=(n("4635"),n("5f43"),n("2877")),o=Object(l["a"])(r,a,s,!1,null,"7a71fca6",null);e["default"]=o.exports},f963:function(t,e,n){}}]);